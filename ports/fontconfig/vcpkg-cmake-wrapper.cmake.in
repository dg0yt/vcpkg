include(SelectLibraryConfigurations)
set(Fontconfig_VERSION "@FONTCONFIG_VERSION@")
find_path(Fontconfig_INCLUDE_DIR fontconfig/fontconfig.h PATHS "${CMAKE_CURRENT_LIST_DIR}/../.." PATH_SUFFIXES include NAMES_PER_DIR NO_DEFAULT_PATH)
find_library(Fontconfig_LIBRARY_DEBUG NAMES fontconfig fontconfigd PATHS "${CMAKE_CURRENT_LIST_DIR}/../.." PATH_SUFFIXES debug/lib lib NAMES_PER_DIR NO_DEFAULT_PATH)
find_library(Fontconfig_LIBRARY_RELEASE NAMES fontconfig NAMES_PER_DIR PATHS "${CMAKE_CURRENT_LIST_DIR}/../.." PATH_SUFFIXES lib NAMES_PER_DIR NO_DEFAULT_PATH)
select_library_configurations(Fontconfig)
_find_package(${ARGS})
if("@VCPKG_BUILD_TYPE@" STREQUAL "static")
    find_package(Freetype)
    if(Freetype_FOUND AND TARGET Fontconfig::Fontconfig)
        if(TARGET Freetype::Freetype)
            set_property(TARGET Fontconfig::Fontconfig APPEND PROPERTY INTERFACE_LINK_LIBRARIES "Freetype::Freetype")
        else()
            # TODO link Freetype libraries to the target if the target Freetype::Freetype is not defined;
        endif()
    endif()
    if(FREETYPE_LIBRARIES)
        list(APPEND Fontconfig_LIBRARIES "${FREETYPE_LIBRARIES}")
    endif()
    find_package(EXPAT)
    if(EXPAT_FOUND AND TARGET Fontconfig::Fontconfig)
        set_property(TARGET Fontconfig::Fontconfig APPEND PROPERTY INTERFACE_LINK_LIBRARIES "EXPAT::EXPAT")
    endif()
    if(EXPAT_LIBRARIES)
        list(APPEND Fontconfig_LIBRARIES "${EXPAT_LIBRARIES}")
    endif()
    if(@VCPKG_TARGET_IS_LINUX@)
        find_library(UUID_LIBRARY_DEBUG NAMES uuid uuidd uuid_d  NAMES_PER_DIR PATH_SUFFIXES lib PATHS "${_INSTALLED_DIR}/debug" NO_DEFAULT_PATH)
        find_library(UUID_LIBRARY_RELEASE NAMES uuid NAMES_PER_DIR PATH_SUFFIXES lib PATHS "${_VCPKG_INSTALLED_DIR}/${VCPKG_TARGET_TRIPLET}" NO_DEFAULT_PATH)
        select_library_configurations(UUID)
    endif()
    if(TARGET Fontconfig::Fontconfig)
        if(UUID_LIBRARY_DEBUG AND @VCPKG_TARGET_IS_LINUX@)
            set_property(TARGET Fontconfig::Fontconfig APPEND PROPERTY INTERFACE_LINK_LIBRARIES "$<$<CONFIG:DEBUG>:${UUID_LIBRARY_DEBUG}>")
        endif()
    endif()
    if(TARGET Fontconfig::Fontconfig)
        if(UUID_LIBRARY_RELEASE AND @VCPKG_TARGET_IS_LINUX@)
            set_property(TARGET Fontconfig::Fontconfig APPEND PROPERTY INTERFACE_LINK_LIBRARIES "$<$<NOT:$<CONFIG:DEBUG>>:${UUID_LIBRARY_RELEASE}>")
        endif()
    endif()

    if(UUID_LIBRARIES AND @VCPKG_TARGET_IS_LINUX@)
        list(APPEND Fontconfig_LIBRARIES "${UUID_LIBRARIES}")
    endif()
endif()
